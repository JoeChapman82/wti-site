(async()=>{const e={class:"groupName",groupName:"identityName"};async function t(e,t,a){const c=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n(t,a))});try{return await c.json()}catch(e){console.log(e)}}function n(e,t){return{_csrf:document.getElementById("_csrf").value,key:e,value:t}}async function a(n){let a=n.target.name,c=n.target.options[n.target.selectedIndex].value;try{let n=await t("/admin/get-unique-values",a,c),o=document.getElementById(e[a]);for(i=o.options.length-1;i>=1;i--)o.remove(i);n.forEach((e,t)=>{var n=document.createElement("option");n.text=e,o.add(n,o[t+1])})}catch(e){console.log(e)}}async function c(e){let n=e.target.name,a=e.target.options[e.target.selectedIndex].value;try{let e=await t("/admin/get-animal-data-value",n,a);document.getElementById("iucnCategory")&&(document.getElementById("iucnCategory").value=e.iucnCategory,document.getElementById("scientificName").value=e.scientificName)}catch(e){console.log(e)}}document.querySelectorAll("#class, #groupName").forEach(e=>{e.addEventListener("change",a)}),document.querySelectorAll("#identityName").forEach(e=>{e.addEventListener("change",c)})})();